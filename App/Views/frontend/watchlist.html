{% extends "frontend/partitions/layout.html" %}
{% block body %}

<div class="wrap-breadcrumb parallax-breadcrumb">
	<div class="container"></div>
</div>

<div id="account-wishlist" class="container">
	<ul class="breadcrumb">
		<li><a href="/home"><i class="fa fa-home"></i></a></li>
		<li><a href="/home">Account</a>
		</li>
		<li><a href="/wishlist">My Wish
				List</a></li>
	</ul>
	<div class="row">
		<aside id="column-left" class="col-sm-3 hidden-xs">
			<div class="box">
				<div class="box-heading">Account</div>
				<div class="list-group">

					<a href="/myAccount "
						class="list-group-item">My Account </a>

					<a href="/getAccountInformation"
						class="list-group-item">Edit Account</a> <a
						href="/changePassword"
						class="list-group-item">Password</a>

					<a href="/getAddressBook"
						class="list-group-item">Address Book</a> <a href="/wishlist " class="list-group-item">Wish List </a> <a
						href="/orderHistory "
						class="list-group-item">Order History </a> 
						<!-- <a
						href="https://codezeel.com/opencart/OPC02/OPC020037/OPC1/index.php?route=account/download"
						class="list-group-item">Downloads </a><a
						href="https://codezeel.com/opencart/OPC02/OPC020037/OPC1/index.php?route=account/recurring"
						class="list-group-item">Recurring payments </a> <a
						href="https://codezeel.com/opencart/OPC02/OPC020037/OPC1/index.php?route=account/reward "
						class="list-group-item">Reward Points </a> -->
						 <a
						href="https://codezeel.com/opencart/OPC02/OPC020037/OPC1/index.php?route=account/return"
						class="list-group-item">Returns </a> <a href="/transactions.html"
						class="list-group-item">Transactions </a> 
						<!-- <a
						href="https://codezeel.com/opencart/OPC02/OPC020037/OPC1/index.php?route=account/newsletter"
						class="list-group-item">Newsletter </a> -->

					<a href="frontend/logout"
						class="list-group-item">Logout </a>

				</div>
			</div>

			<div class="box">
				<div class="box-heading">Information</div>
				<div class="list-group">
					<a class="list-group-item" href="/aboutus">About Us </a>
					<a class="list-group-item" href="/deliveryInformation">Delivery
						Information </a>
					<a class="list-group-item" href="/privacyPolicy">Privacy Policy </a>
					<a class="list-group-item" href="/termsconditions">Terms &amp;
						Conditions </a>
					<a class="list-group-item" href="/contact">Contact Us </a>
					<a class="list-group-item" href="siteMap.html">Site Map </a>
				</div>
			</div>
		</aside>

		<div id="content" class="col-sm-9">
			<h2>My Wish List</h2>
			<div class="table-responsive">
				<table class="table table-bordered table-hover">
					<thead>
						<tr>
							<td class="text-center">Image</td>
							<td class="text-left">Product Name</td>
							<!-- <td class="text-left">Model</td> -->
							<!-- <td class="text-right">Stock</td> -->
							<td class="text-right">Unit Price</td>
							<td class="text-right">Action</td>
						</tr>
					</thead>
					{% for item in wishlistdata %}
					<tbody>

						<tr>
							<td class="text-center"><a href="{{item.imageSrc}}"><img src="{{item.imageSrc}}"
										alt="{{item.product_name}}" title="{{item.product_name}}"
										style="width: 125px; height: 75px;" /></a></td>
							<td class="text-left">{{item.product_name}}</td>
							<!-- <td class="text-left">Product 21</td> -->
							<!-- <td class="text-right">{{item.stock}}</td> -->
							<td class="text-right">
								<div class="price"> &#8377;&nbsp; {{item.unitPrice}}
								</div>
							</td>

							<td class="text-right">
								<!-- <button type="button" onclick="cart.add('47');" data-toggle="tooltip"
									title="Add to Cart" class="btn btn-primary"><i
										class="fa fa-shopping-cart"></i></button> -->

								<button type="button" class="addtocart btn btn-primary" title="Add"
									data-toggle="tooltip" productId={{item.productId}}> <span
										class="fa fa-cart-plus">+</span></button>

								<!-- <a href="/watchlist.html&amp;remove=47" data-toggle="tooltip" title="Remove"
									class="btn btn-danger"><i class="fa fa-times"></i></a> -->
								<button type="button" class="remove btn btn-danger" title="Remove" data-toggle="tooltip"
									productId={{item.productId}}> <span class="fa fa-times"></span></button>
							</td>
						</tr>
					</tbody>
					{% else %}
					<li>You do not have any item in wishlist to display here.</li>
					{% endfor %}

				</table>
			</div>
			<div class="buttons clearfix">
				<div class="pull-right"><a
						href="/products"
						class="btn btn-primary">Continue</a></div>
			</div>
		</div>
	</div>
</div>

{% endblock %}

{% block Jscript %}

<!-- ======= Quick view JS ========= -->
<script>

	$('body').on('click', '.addtocart', function () {
		let action = $(this).attr('action');
		// let content = 'Are you really want to add this product into wishlist?';
		// if (action == 'remove') {
		//     content = 'Are you really want to remove this product from wishlist?';
		// }
		// if (confirm(content)) {
		// alert('Thanks for confirming');
		let host = window.location.origin;
		//  alert(host)
		let productId = $(this).attr('productId');
		alert(productId)
		// alert(action),

		$.ajax({
			url: host + '/addtocart_call',
			type: 'POST',
			data: { action: action, productId: productId },  // data to submit
			success: function (status) {
				console.log('===>', status);
				//   alert('Product added to wishlist successfully');
				location.reload();
			}
			, error: function (jqXhr, textStatus, errorMessage) {
				$('p').append('Error' + errorMessage);
			}
		});
		// }

	});

	$('body').on('click', '.remove', function () {
		let action = $(this).attr('action');
		// let content = 'Are you really want to add this product into wishlist?';
		// if (action == 'remove') {
		//     content = 'Are you really want to remove this product from wishlist?';
		// }
		// if (confirm(content)) {
		// alert('Thanks for confirming');
		let host = window.location.origin;
		//  alert(host)
		let productId = $(this).attr('productId');
		alert(productId)
		// alert(action),

		$.ajax({
			url: host + '/wishlist_remove',
			type: 'POST',
			data: { action: action, productId: productId },  // data to submit
			success: function (status) {
				console.log('===>', status);
				//   alert('Product remove from wishlist successfully');
				location.reload();
			}
			, error: function (jqXhr, textStatus, errorMessage) {
				$('p').append('Error' + errorMessage);
			}
		});
		// }

	});

	function quickbox() {
		if ($(window).width() > 767) {
			$('.quickview-button').magnificPopup({
				type: 'iframe',
				delegate: 'a',
				preloader: true,
				tLoading: 'Loading image #%curr%...',
			});
		}
	}
	jQuery(document).ready(function () { quickbox(); });
	jQuery(window).resize(function () { quickbox(); });

</script>


{% endblock %}