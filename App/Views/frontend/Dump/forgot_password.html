{% extends "frontend/partitions/layout.html" %}
{% block body %}

<div class="main-content main-content-login">

  <div class="success_alert">{% include "frontend/partitions/notification.html" %}</div>  

    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb-trail breadcrumbs">
                    <ul class="trail-items breadcrumb">
                        <li class="trail-item trail-begin">
                            <a href="/">Home</a>
                        </li>
                        <li class="trail-item trail-end active">
                            Authentication
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="content-area col-lg-3 col-md-3 col-sm-3 col-xs-3">
            </div>
            <div class="content-area col-lg-6 col-md-6 col-sm-6 col-xs-6">
                <div class="site-main">
                    <h3 class="custom_blog_title text-center">
                        Authentication
                    </h3>


                    <div class="customer_login">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="forgot-item" style="box-shadow: 0 0 10px #ddd;
                                z-index: 2;
                                background-color: #fff;
                                border-radius: 0;">
                                    <h5 class="title-login">Forgot Password</h5>
                                    <form id="loginSubmit" class="login" action="/forgot_User" method="post">
    
                                        <p class="form-row form-row-wide">
                                            <label class="text">Email</label>
                                            <input title="username" name="email" type="email" class="form-control input-text"
                                                required>
                                        </p>
                                        <!-- <p class="form-row form-row-wide">
                                            <label class="text">Password</label>
                                            <input title="password" name="vendor_password" minlength="6" maxlength="6" type="password"
                                                class="input-text" required>
                                        </p> -->
                                        <!-- <p class="lost_password">
                                            <span class="inline">
                                                <input type="checkbox" name="rememberMe" id="cb1">
                                                <label for="cb1" class="label-text">Remember me</label>
                                            </span>
                                            <a href="#" class="forgot-pw">Forgot password?</a>
                                        </p> -->
                                        <p class="form-row">
                                            <input type="submit" class="button-submit" value="Submit">
                                        </p>
                                    </form>
                                </div>
                           
                            </div>
                           
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-area col-lg-3 col-md-3 col-sm-3 col-xs-3">
            </div>
        </div>
      
    </div>
</div>

{% endblock %}

{% block Jscript %}
<script>

    $(document).ready(function () {

        $(".Gst_Hide").hide();
        $('#switchVal').click(function () {
            $('.Gst_Hide').toggle();
        });
    });

        // var passwordval = $("password").attr('value');
        // var confirm_passwordval = $("confirm_password").attr('value');

        // var password = document.getElementById("password")
        // , confirm_password = document.getElementById("confirm_password");

        // function validatePassword(){
        // if(passwordval != confirm_passwordval) {
        // confirm_password.setCustomValidity("Passwords Don't Match");
        // }
        // }
        // password.onchange = validatePassword();
        // confirm_password.onkeyup = validatePassword();
        $("#confirm_password").on('keyup', function(){
            var password = $("#password").val();
            var confirm_password = $("#confirm_password").val();
            if(password.length != 0 && confirm_password != 0){
            if (password != confirm_password)
                $("#CheckPasswordMatch").html("Password does not match !").css("color","red");
            else
                $("#CheckPasswordMatch").html("Password match !").css("color","green");
            }
        });
        $("#password").on('keyup', function(){
            // var password = $("#password").val();
            // var confirm_password = $("#confirm_password").val();
            // if (password != confirm_password)
                $("#CheckPasswordMatch").html("");
            // else
            //     $("#CheckPasswordMatch").html("Password match !").css("color","green");
        });

    var companyName;
    $("#vendor_gstNo").keyup(function (e) {
        var gstValue = $("#vendor_gstNo").val();
        $('.gst_invlidmsg').html('');
        // console.log(gstValue, "fsfuwehfuwehf");

        e.preventDefault()
        if ($(this).val().length == 15) {
            $.ajax({
                url: "/validationGst",
                type: "POST",
                dataType: "json",
                data: { gstValue },
                success: function (result) {
                    companyName = result.data.tradename;
                    $(".gst_invlidmsg").html(result.data);
                    // console.log("result", result.data);
                    $("#vendor_Company").attr('value', result.data.tradename);
                    $("#vendor_Company").val(result.data.tradename);
                },
                error() {
                    console.log("error");
                }
            })
        } else {
            // Disable submit button
        }
    });

    $("#registerSubmit").on("submit", function () {
        $("#vendor_Company").removeAttr("disabled"); 
        var form = $('form').serialize();
        $('input[disabled]').each(function () {
            form = form + '&' + $(this).attr('name') + '=' + $(this).val();
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            data: $("#registerSubmit").serialize(),
        })
    });

    $("#switchVal").on("click", function () {
        if ($("#switchVal").val() == 0) {
            $("#switchVal").val(1);
        }
        else {
            $("#switchVal").val(0);
        }
        // alert($("#switchVal").val());
        var toggle = $("#vendor_Company").prop("disabled");
        $("#gst_invalid").addClass("hidden");
        $("#vendor_Company").prop("disabled", !toggle);

        $(':input[type="submit"]').prop('', false);
        $("#vendor_Company").val("");

    });
   
</script>
<script>
    $(document).ready(function () {

        $("#mobile-num").keyup(function () {
            var mobNum = $(this).val();
            var filter = /^\d*(?:\.\d{1,2})?$/;

            if (filter.test(mobNum)) {
                if (mobNum.length == 10) {
                    // alert("valid");
                    $("#mobile-valid").removeClass("hidden");
                    $("#folio-invalid").addClass("hidden");
                } else {
                    //   alert('Please put 10  digit mobile number');
                    $("#folio-invalid").removeClass("hidden");
                    $("#mobile-valid").addClass("hidden");
                    return false;
                }
            }
            else {
                // alert('Not a valid number');
                $("#folio-invalid").removeClass("hidden");
                $("#mobile-valid").addClass("hidden");
                return false;
            }

        });

        $("#vendor_gstNo").keyup(function () {
            var gstNum = $(this).val();
            if (gstNum.length == 15) {

                $("#mobile-valid").removeClass("hidden");
                $("#gst_invalid").addClass("hidden");
            } else {

                $("#gst_invalid").removeClass("hidden");
                $("#mobile-valid").addClass("hidden");
                return false;
            }

        });
    });
</script>

{% endblock %}